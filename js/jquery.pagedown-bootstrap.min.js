var Markdown;Markdown="object"===typeof exports&&"function"===typeof require?exports:{};
(function(){function r(f){return f}function B(f){return!1}function u(){}function p(){}u.prototype={chain:function(f,y){var p=this[f];if(!p)throw Error("unknown hook "+f);this[f]=p===r?y:function(f){return y(p(f))}},set:function(f,p){if(!this[f])throw Error("unknown hook "+f);this[f]=p},addNoop:function(f){this[f]=r},addFalse:function(f){this[f]=B}};Markdown.HookCollection=u;p.prototype={set:function(f,p){this["s_"+f]=p},get:function(f){return this["s_"+f]}};Markdown.Converter=function(){function f(a){return a=
a.replace(/^[ ]{0,3}\[(.+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?(?=\s|$)[ \t]*\n?[ \t]*((\n*)["(](.+?)[")][ \t]*)?(?:\n+)/gm,function(a,H,b,c,d,e){H=H.toLowerCase();D.set(H,k(b));if(d)return c;e&&E.set(H,e.replace(/"/g,"&quot;"));return""})}function r(a){a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math|ins|del)\b[^\r]*?\n<\/\2>[ \t]*(?=\n+))/gm,C);a=a.replace(/^(<(p|div|h[1-6]|blockquote|pre|table|dl|ol|ul|script|noscript|form|fieldset|iframe|math)\b[^\r]*?.*<\/\2>[ \t]*(?=\n+)\n)/gm,
C);a=a.replace(/\n[ ]{0,3}((<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,C);a=a.replace(/\n\n[ ]{0,3}(<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>[ \t]*(?=\n{2,}))/g,C);return a=a.replace(/(?:\n\n)([ ]{0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,C)}function C(a,b){var c;c=b.replace(/^\n+/,"");c=c.replace(/\n+$/g,"");return c="\n\n~K"+(I.push(c)-1)+"K\n\n"}function B(a,b){a=F(a);a=a.replace(/^[ ]{0,2}([ ]?\*[ ]?){3,}[ \t]*$/gm,"<hr />\n");a=a.replace(/^[ ]{0,2}([ ]?-[ ]?){3,}[ \t]*$/gm,"<hr />\n");a=
a.replace(/^[ ]{0,2}([ ]?_[ ]?){3,}[ \t]*$/gm,"<hr />\n");a=v(a);a=s(a);a=c(a);a=r(a);return a=d(a,b)}function l(a){a=e(a);a=q(a);a=a.replace(/\\(\\)/g,z);a=a.replace(/\\([`*_{}\[\]()>#+-.!])/g,z);a=a.replace(/(!\[(.*?)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,w);a=a.replace(/(!\[(.*?)\]\s?\([ \t]*()<?(\S+?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,w);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\][ ]?(?:\n[ ]*)?\[(.*?)\])()()()()/g,G);a=a.replace(/(\[((?:\[[^\]]*\]|[^\[\]])*)\]\([ \t]*()<?((?:\([^)]*\)|[^()])*?)>?[ \t]*((['"])(.*?)\6[ \t]*)?\))/g,
G);a=a.replace(/(\[([^\[\]]+)\])()()()()()/g,G);a=m(a);a=a.replace(/~P/g,"://");a=k(a);a=a.replace(/([\W_]|^)(\*\*|__)(?=\S)([^\r]*?\S[\*_]*)\2([\W_]|$)/g,"$1<strong>$3</strong>$4");a=a.replace(/([\W_]|^)(\*|_)(?=\S)([^\r\*_]*?\S)\2([\W_]|$)/g,"$1<em>$3</em>$4");return a=a.replace(/  +\n/g," <br>\n")}function q(a){return a=a.replace(/(<[a-z\/!$]("[^"]*"|'[^']*'|[^'">])*>|<!(--(?:|(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>)/gi,function(a){var b=a.replace(/(.)<\/?code>(?=.)/g,"$1`");return b=g(b,"!"==a.charAt(1)?
"\\`*_/":"\\`*_")})}function G(a,b,c,d,e,x,k,m){void 0==m&&(m="");a=c.replace(/:\/\//g,"~P");d=d.toLowerCase();if(""==e)if(""==d&&(d=a.toLowerCase().replace(/ ?\n/g," ")),void 0!=D.get(d))e=D.get(d),void 0!=E.get(d)&&(m=E.get(d));else if(-1<b.search(/\(\s*\)$/m))e="";else return b;e=n(e);e=g(e,"*_");b='<a href="'+e+'"';""!=m&&(m=h(m),m=g(m,"*_"),b+=' title="'+m+'"');return b+(">"+a+"</a>")}function h(a){return a.replace(/>/g,"&gt;").replace(/</g,"&lt;").replace(/"/g,"&quot;")}function w(a,b,c,d,e,
x,k,n){a=c;d=d.toLowerCase();n||(n="");if(""==e)if(""==d&&(d=a.toLowerCase().replace(/ ?\n/g," ")),void 0!=D.get(d))e=D.get(d),void 0!=E.get(d)&&(n=E.get(d));else return b;a=g(h(a),"*_[]()");e=g(e,"*_");b='<img src="'+e+'" alt="'+a+'"';n=h(n);n=g(n,"*_");return b=b+(' title="'+n+'"')+" />"}function F(a){a=a.replace(/^(.+)[ \t]*\n=+[ \t]*\n+/gm,function(a,b){return"<h1>"+l(b)+"</h1>\n\n"});a=a.replace(/^(.+)[ \t]*\n-+[ \t]*\n+/gm,function(a,b){return"<h2>"+l(b)+"</h2>\n\n"});return a=a.replace(/^(\#{1,6})[ \t]*(.+?)[ \t]*\#*\n+/gm,
function(a,b,c){a=b.length;return"<h"+a+">"+l(c)+"</h"+a+">\n\n"})}function v(a){a+="~0";var b=/^(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm;J?a=a.replace(b,function(a,b,c){a=-1<c.search(/[*+-]/g)?"ul":"ol";b=K(b,a);b=b.replace(/\s+$/,"");return"<"+a+">"+b+"</"+a+">\n"}):(b=/(\n\n|^\n?)(([ ]{0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(~0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/g,a=a.replace(b,function(a,b,c,d){a=-1<d.search(/[*+-]/g)?"ul":"ol";c=K(c,a);
return b+"<"+a+">\n"+c+"</"+a+">\n"}));return a=a.replace(/~0/,"")}function K(a,b){J++;a=a.replace(/\n{2,}$/,"\n");var c=M[b],d=!1;a=(a+"~0").replace(RegExp("(^[ \\t]*)("+c+")[ \\t]+([^\\r]+?(\\n+))(?=(~0|\\1("+c+")[ \\t]+))","gm"),function(a,b,c,e){a=e;(b=/\n\n$/.test(a))||-1<a.search(/\n{2,}/)||d?a=B(A(a),!0):(a=v(A(a)),a=a.replace(/\n$/,""),a=l(a));d=b;return"<li>"+a+"</li>\n"});a=a.replace(/~0/g,"");J--;return a}function s(a){a=(a+"~0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=~0))/g,
function(a,c,d){a=b(A(c));a=t(a);a=a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");a='<pre class="prettyprint linenums"><code>'+a+"\n</code></pre>";return"\n\n"+a+"\n\n"+d});return a=a.replace(/~0/,"")}function a(a){a=a.replace(/(^\n+|\n+$)/g,"");return"\n\n~K"+(I.push(a)-1)+"K\n\n"}function e(a){return a=a.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,function(a,c,d,e,H){a=e.replace(/^([ \t]*)/g,"");a=a.replace(/[ \t]*$/g,"");a=b(a);a=a.replace(/:\/\//g,"~P");return c+"<code>"+a+"</code>"})}function b(a){a=
a.replace(/&/g,"&amp;");a=a.replace(/</g,"&lt;");a=a.replace(/>/g,"&gt;");return a=g(a,"*_{}[]\\",!1)}function c(b){return b=b.replace(/((^[ \t]*>[ \t]?.+\n(.+\n)*\n*)+)/gm,function(b,c){var d;d=c.replace(/^[ \t]*>[ \t]?/gm,"~0");d=d.replace(/~0/g,"");d=d.replace(/^[ \t]+$/gm,"");d=B(d);d=d.replace(/(^|\n)/g,"$1  ");d=d.replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,function(a,b){var c;c=b.replace(/^  /mg,"~0");return c=c.replace(/~0/g,"")});return a("<blockquote>\n"+d+"\n</blockquote>")})}function d(a,b){a=
a.replace(/^\n+/g,"");a=a.replace(/\n+$/g,"");for(var c=a.split(/\n{2,}/g),d=[],e=/~K(\d+)K/,x=c.length,n=0;n<x;n++){var k=c[n];e.test(k)?d.push(k):/\S/.test(k)&&(k=l(k),k=k.replace(/^([ \t]*)/g,"<p>"),k+="</p>",d.push(k))}if(!b)for(x=d.length,n=0;n<x;n++)for(var g=!0;g;)g=!1,d[n]=d[n].replace(/~K(\d+)K/g,function(a,b){g=!0;return I[b]});return d.join("\n\n")}function k(a){a=a.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;");return a=a.replace(/<(?![a-z\/?\$!])/gi,"&lt;")}function m(a){a=a.replace(/(^|\s)(https?|ftp)(:\/\/[-A-Z0-9+&@#\/%?=~_|\[\]\(\)!:,\.;]*[-A-Z0-9+&@#\/%=~_|\[\]])($|\W)/gi,
"$1<$2$3>$4");a=a.replace(/<((https?|ftp):[^'">\s]+)>/gi,function(a,b){return'<a href="'+b+'">'+x.plainLinkText(b)+"</a>"});return a=a.replace(/<((?:mailto:)?([-.\w]+\@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+))>/gi,function(a,b){var c,d;"mailto:"!=b.substring(0,7)?(c="mailto:"+b,d=b):(c=b,d=b.substring(7,b.length));return'<a href="'+c+'">'+x.plainLinkText(d)+"</a>"})}function N(a){return a=a.replace(/~E(\d+)E/g,function(a,b){var c=parseInt(b);return String.fromCharCode(c)})}function A(a){a=a.replace(/^(\t|[ ]{1,4})/gm,
"~0");return a=a.replace(/~0/g,"")}function t(a){if(!/\t/.test(a))return a;var b=["    ","   ","  "," "],c=0,d;return a.replace(/[\n\t]/g,function(a,e){if("\n"===a)return c=e+1,a;d=(e-c)%4;c=e+1;return b[d]})}function n(a){if(!a)return"";var b=a.length;return a.replace(O,function(c,d){return"~D"==c?"%24":":"!=c||d!=b-1&&!/[0-9\/]/.test(a.charAt(d+1))&&"mailto:"!==a.substring(0,7)&&"magnet:"!==a.substring(0,7)?"%"+c.charCodeAt(0).toString(16):":"})}function g(a,b,c){b="(["+b.replace(/([\[\]\\])/g,
"\\$1")+"])";c&&(b="\\\\"+b);return a=a.replace(RegExp(b,"g"),z)}function z(a,b){return"~E"+b.charCodeAt(0)+"E"}var x=this.hooks=new u;x.addNoop("plainLinkText");x.addNoop("preConversion");x.addNoop("postConversion");var D,E,I,J;this.makeHtml=function(a){if(D)throw Error("Recursive call to converter.makeHtml");D=new p;E=new p;I=[];J=0;a=x.preConversion(a);a=a.replace(/~/g,"~T");a=a.replace(/\$/g,"~D");a=a.replace(/\r\n/g,"\n");a=a.replace(/\r/g,"\n");a=t("\n\n"+a+"\n\n");a=a.replace(/^[ \t]+$/mg,
"");a=r(a);a=f(a);a=B(a);a=N(a);a=a.replace(/~D/g,"$$");a=a.replace(/~T/g,"~");a=x.postConversion(a);I=E=D=null;return a};var M={ol:"\\d+[.]",ul:"[*+-]"},O=/(?:["'*()[\]:]|~D)/g}})();(function(){function r(){}function B(a){this.buttonBar=h.getElementById("wmd-button-bar"+a);this.preview=h.getElementById("wmd-preview"+a);this.input=h.getElementById("wmd-input"+a)}function u(a,e){var b=this,c=[],d=0,k="none",m,h,A,t=function(a,b){k!=a&&(k=a,b||g());v.isIE&&"moving"==k?A=null:h=setTimeout(n,1)},n=function(a){A=new p(e,a);h=void 0};this.setCommandMode=function(){k="command";g();h=setTimeout(n,0)};this.canUndo=function(){return 1<d};this.canRedo=function(){return c[d+1]?!0:!1};this.undo=
function(){b.canUndo()&&(m?(m.restore(),m=null):(c[d]=new p(e),c[--d].restore(),a&&a()));k="none";e.input.focus();n()};this.redo=function(){b.canRedo()&&(c[++d].restore(),a&&a());k="none";e.input.focus();n()};var g=function(){var b=A||new p(e);if(!b)return!1;"moving"==k?m||(m=b):(m&&(c[d-1].text!=m.text&&(c[d++]=m),m=null),c[d++]=b,c[d+1]=null,a&&a())},f=function(a){var c=!1;if(a.ctrlKey||a.metaKey)switch(String.fromCharCode(a.charCode||a.keyCode)){case "y":b.redo();c=!0;break;case "z":a.shiftKey?
b.redo():b.undo(),c=!0}c&&(a.preventDefault&&a.preventDefault(),window.event&&(window.event.returnValue=!1))},x=function(a){a.ctrlKey||a.metaKey||(a=a.keyCode,33<=a&&40>=a||63232<=a&&63235>=a?t("moving"):8==a||46==a||127==a?t("deleting"):13==a?t("newlines"):27==a?t("escape"):(16>a||20<a)&&91!=a&&t("typing"))};(function(){l.addEvent(e.input,"keypress",function(a){!a.ctrlKey&&!a.metaKey||89!=a.keyCode&&90!=a.keyCode||a.preventDefault()});var a=function(){(v.isIE||A&&A.text!=e.input.value)&&void 0==
h&&(k="paste",g(),n())};l.addEvent(e.input,"keydown",f);l.addEvent(e.input,"keydown",x);l.addEvent(e.input,"mousedown",function(){t("moving")});e.input.onpaste=a;e.input.ondrop=a})();n(!0);g()}function p(a,e){var b=this,c=a.input;this.init=function(){l.isVisible(c)&&(e||!h.activeElement||h.activeElement===c)&&(this.setInputAreaSelectionStartEnd(),this.scrollTop=c.scrollTop,!this.text&&c.selectionStart||0===c.selectionStart)&&(this.text=c.value)};this.setInputAreaSelection=function(){if(l.isVisible(c))if(void 0!==
c.selectionStart&&!v.isOpera)c.focus(),c.selectionStart=b.start,c.selectionEnd=b.end,c.scrollTop=b.scrollTop;else if(h.selection&&(!h.activeElement||h.activeElement===c)){c.focus();var a=c.createTextRange();a.moveStart("character",-c.value.length);a.moveEnd("character",-c.value.length);a.moveEnd("character",b.end);a.moveStart("character",b.start);a.select()}};this.setInputAreaSelectionStartEnd=function(){if(!a.ieCachedRange&&(c.selectionStart||0===c.selectionStart))b.start=c.selectionStart,b.end=
c.selectionEnd;else if(h.selection){b.text=l.fixEolChars(c.value);var d=a.ieCachedRange||h.selection.createRange(),e=l.fixEolChars(d.text),m="\u0007"+e+"\u0007";d.text=m;var f=l.fixEolChars(c.value);d.moveStart("character",-m.length);d.text=e;b.start=f.indexOf("\u0007");b.end=f.lastIndexOf("\u0007")-1;if(m=b.text.length-l.fixEolChars(c.value).length){for(d.moveStart("character",-e.length);m--;)e+="\n",b.end+=1;d.text=e}a.ieCachedRange&&(b.scrollTop=a.ieCachedScrollTop);a.ieCachedRange=null;this.setInputAreaSelection()}};
this.restore=function(){void 0!=b.text&&b.text!=c.value&&(c.value=b.text);this.setInputAreaSelection();c.scrollTop=b.scrollTop};this.getChunks=function(){var a=new r;a.before=l.fixEolChars(b.text.substring(0,b.start));a.startTag="";a.selection=l.fixEolChars(b.text.substring(b.start,b.end));a.endTag="";a.after=l.fixEolChars(b.text.substring(b.end));a.scrollTop=b.scrollTop;return a};this.setChunks=function(a){a.before+=a.startTag;a.after=a.endTag+a.after;this.start=a.before.length;this.end=a.before.length+
a.selection.length;this.text=a.before+a.selection+a.after;this.scrollTop=a.scrollTop};this.init()}function f(a,e,b){var c,d,k,m=function(){var a=0;window.innerHeight?a=window.pageYOffset:h.documentElement&&h.documentElement.scrollTop?a=h.documentElement.scrollTop:h.body&&(a=h.body.scrollTop);return a},f=function(){if(e.preview){var b=e.input.value;if(!b||b!=k){k=b;var c=(new Date).getTime(),b=a.makeHtml(b);d=(new Date).getTime()-c;D(b)}}},A=function(){c&&(clearTimeout(c),c=void 0);var a=0,a=d;3E3<
a&&(a=3E3);c=setTimeout(f,a)};this.refresh=function(a){a?(k="",f()):A()};this.processingTime=function(){return d};var t=!0,n=function(a){var b=e.preview,c=b.parentNode,d=b.nextSibling;c.removeChild(b);b.innerHTML=a;d?c.insertBefore(b,d):c.appendChild(b)},g=function(a){e.preview.innerHTML=a},z,x=function(a){if(z)return z(a);try{g(a),z=g}catch(b){z=n,z(a)}},D=function(a){var c=q.getTop(e.input)-m();e.preview&&(x(a),b());e.preview&&(e.preview.scrollTop=(e.preview.scrollHeight-e.preview.clientHeight)*
(e.preview.scrollHeight<=e.preview.clientHeight?1:e.preview.scrollTop/(e.preview.scrollHeight-e.preview.clientHeight)));if(t)t=!1;else{var d=q.getTop(e.input)-m();v.isIE?setTimeout(function(){window.scrollBy(0,d-c)},0):window.scrollBy(0,d-c)}};(function(a,b){l.addEvent(a,"input",b);a.onpaste=b;a.ondrop=b;l.addEvent(a,"keypress",b);l.addEvent(a,"keydown",b)})(e.input,A);f();e.preview&&(e.preview.scrollTop=0)}function y(a,e,b,c,d,k){function m(a){n.focus();if(a.textOp){b&&b.setCommandMode();var d=new p(e);
if(!d)return;var k=d.getChunks(),g=function(){n.focus();k&&d.setChunks(k);d.restore();c.refresh()};a.textOp(k,g)||g()}a.execute&&a.execute(b)}function h(a,b){b?(a.disabled=!1,a.isHelp||(a.onclick=function(){if(this.onmouseout)this.onmouseout();m(this);return!1})):a.disabled=!0}function f(a){"string"===typeof a&&(a=d[a]);return function(){a.apply(d,arguments)}}function t(){b&&(h(g.undo,b.canUndo()),h(g.redo,b.canRedo()))}var n=e.input,g={};(function(){var b=e.buttonBar,c=document.createElement("div");
c.id="wmd-button-row"+a;c.className="btn-toolbar";var c=b.appendChild(c),b=function(b,d,e,n,k){var g=document.createElement("button");g.className="btn btn-default btn-sm";var m=document.createElement("i");m.className="glyphicon glyph"+e;g.id=b+a;g.appendChild(m);g.title=d;$(g).tooltip({placement:"bottom",container:"body"});n&&(g.textOp=n);h(g,!0);k?k.appendChild(g):c.appendChild(g);return g},d=function(b){var d=document.createElement("div");d.className="btn-group wmd-button-group"+b;d.id="wmd-button-group"+
b+a;c.appendChild(d);return d};group1=d(1);g.bold=b("wmd-bold-button","Bold - Ctrl+B","icon-bold",f("doBold"),group1);g.italic=b("wmd-italic-button","Italic - Ctrl+I","icon-italic",f("doItalic"),group1);group2=d(2);g.link=b("wmd-link-button","Link - Ctrl+L","icon-link",f(function(a,b){return this.doLinkOrImage(a,b,!1)}),group2);g.quote=b("wmd-quote-button","Blockquote - Ctrl+Q","icon-blockquote",f("doBlockquote"),group2);g.code=b("wmd-code-button","Code Sample - Ctrl+K","icon-code",f("doCode"),group2);
g.image=b("wmd-image-button","Image - Ctrl+G","icon-picture",f(function(a,b){return this.doLinkOrImage(a,b,!0)}),group2);group3=d(3);g.olist=b("wmd-olist-button","Numbered List - Ctrl+O","icon-numbered-list",f(function(a,b){this.doList(a,b,!0)}),group3);g.ulist=b("wmd-ulist-button","Bulleted List - Ctrl+U","icon-bullet-list",f(function(a,b){this.doList(a,b,!1)}),group3);g.heading=b("wmd-heading-button","Heading - Ctrl+H","icon-header",f("doHeading"),group3);g.hr=b("wmd-hr-button","Horizontal Rule - Ctrl+R",
"icon-hr-line",f("doHorizontalRule"),group3);group4=d(4);g.undo=b("wmd-undo-button","Undo - Ctrl+Z","icon-undo",null,group4);g.undo.execute=function(a){a&&a.undo()};var n=/win/.test(F.platform.toLowerCase())?"Redo - Ctrl+Y":"Redo - Ctrl+Shift+Z";g.redo=b("wmd-redo-button",n,"icon-redo",null,group4);g.redo.execute=function(a){a&&a.redo()};k&&(group5=d(5),group5.className+=" pull-right",b=document.createElement("button"),d=document.createElement("i"),d.className="glyphicon glyphicon-question-sign",
b.appendChild(d),b.className="btn btn-default btn-sm",b.id="wmd-help-button"+a,b.isHelp=!0,b.title=k.title||K,$(b).tooltip({placement:"bottom"}),b.onclick=k.handler,h(b,!0),group5.appendChild(b),g.help=b);t()})();var z="keydown";v.isOpera&&(z="keypress");l.addEvent(n,z,function(a){if((a.ctrlKey||a.metaKey)&&!a.altKey&&!a.shiftKey){switch(String.fromCharCode(a.charCode||a.keyCode).toLowerCase()){case "b":m(g.bold);break;case "i":m(g.italic);break;case "l":m(g.link);break;case "q":m(g.quote);break;
case "k":m(g.code);break;case "g":m(g.image);break;case "o":m(g.olist);break;case "u":m(g.ulist);break;case "h":m(g.heading);break;case "r":m(g.hr);break;case "y":m(g.redo);break;case "z":a.shiftKey?m(g.redo):m(g.undo);break;default:return}a.preventDefault&&a.preventDefault();window.event&&(window.event.returnValue=!1)}});l.addEvent(n,"keyup",function(a){!a.shiftKey||a.ctrlKey||a.metaKey||13!==(a.charCode||a.keyCode)||(a={},a.textOp=f("doAutoindent"),m(a))});v.isIE&&l.addEvent(n,"keydown",function(a){if(27===
a.keyCode)return!1});this.setUndoRedoButtonStates=t}function C(a){this.hooks=a}function L(a){return a.replace(/^\s*(.*?)(?:\s+"(.+)")?\s*$/,function(a,b,c){b=b.replace(/\?.*$/,function(a){return a.replace(/\+/g," ")});b=decodeURIComponent(b);b=encodeURI(b).replace(/'/g,"%27").replace(/\(/g,"%28").replace(/\)/g,"%29");b=b.replace(/\?.*$/,function(a){return a.replace(/\+/g,"%2b")});c&&(c=c.trim?c.trim():c.replace(/^\s*/,"").replace(/\s*$/,""),c=$.trim(c).replace(/"/g,"quot;").replace(/\(/g,"&#40;").replace(/\)/g,
"&#41;").replace(/</g,"&lt;").replace(/>/g,"&gt;"));return c?b+' "'+c+'"':b})}var l={},q={},G={},h=window.document,w=window.RegExp,F=window.navigator,v={isIE:/msie/.test(F.userAgent.toLowerCase()),isIE_5or6:/msie 6/.test(F.userAgent.toLowerCase())||/msie 5/.test(F.userAgent.toLowerCase()),isOpera:/opera/.test(F.userAgent.toLowerCase())},K="Markdown Editing Help";Markdown.Editor=function(a,e,b){e=e||"";var c=this.hooks=new Markdown.HookCollection;c.addNoop("onPreviewRefresh");c.addNoop("postBlockquoteCreation");
c.addFalse("insertImageDialog");this.getConverter=function(){return a};var d=this,k;this.run=function(){if(!k){k=new B(e);var m=new C(c),l=new f(a,k,function(){c.onPreviewRefresh()}),q,t;/\?noundo/.test(h.location.href)||(q=new u(function(){l.refresh();t&&t.setUndoRedoButtonStates()},k),this.textOperation=function(a){q.setCommandMode();a();d.refreshPreview()});t=new y(e,k,q,l,m,b);t.setUndoRedoButtonStates();(d.refreshPreview=function(){l.refresh(!0)})()}}};r.prototype.findTags=function(a,e){var b=
this,c;a&&(c=l.extendRegExp(a,"","$"),this.before=this.before.replace(c,function(a){b.startTag+=a;return""}),c=l.extendRegExp(a,"^",""),this.selection=this.selection.replace(c,function(a){b.startTag+=a;return""}));e&&(c=l.extendRegExp(e,"","$"),this.selection=this.selection.replace(c,function(a){b.endTag=a+b.endTag;return""}),c=l.extendRegExp(e,"^",""),this.after=this.after.replace(c,function(a){b.endTag=a+b.endTag;return""}))};r.prototype.trimWhitespace=function(a){var e,b=this;a?a=e="":(a=function(a){b.before+=
a;return""},e=function(a){b.after=a+b.after;return""});this.selection=this.selection.replace(/^(\s*)/,a).replace(/(\s*)$/,e)};r.prototype.skipLines=function(a,e,b){void 0===a&&(a=1);void 0===e&&(e=1);a++;e++;var c,d;navigator.userAgent.match(/Chrome/)&&"X".match(/()./);this.selection=this.selection.replace(/(^\n*)/,"");this.startTag+=w.$1;this.selection=this.selection.replace(/(\n*$)/,"");this.endTag+=w.$1;this.startTag=this.startTag.replace(/(^\n*)/,"");this.before+=w.$1;this.endTag=this.endTag.replace(/(\n*$)/,
"");this.after+=w.$1;if(this.before){for(c=d="";a--;)c+="\\n?",d+="\n";b&&(c="\\n*");this.before=this.before.replace(new w(c+"$",""),d)}if(this.after){for(c=d="";e--;)c+="\\n?",d+="\n";b&&(c="\\n*");this.after=this.after.replace(new w(c,""),d)}};l.isVisible=function(a){if(window.getComputedStyle)return"none"!==window.getComputedStyle(a,null).getPropertyValue("display");if(a.currentStyle)return"none"!==a.currentStyle.display};l.addEvent=function(a,e,b){a.attachEvent?a.attachEvent("on"+e,b):a.addEventListener(e,
b,!1)};l.removeEvent=function(a,e,b){a.detachEvent?a.detachEvent("on"+e,b):a.removeEventListener(e,b,!1)};l.fixEolChars=function(a){a=a.replace(/\r\n/g,"\n");return a=a.replace(/\r/g,"\n")};l.extendRegExp=function(a,e,b){if(null===e||void 0===e)e="";if(null===b||void 0===b)b="";a=a.toString();var c;a=a.replace(/\/([gim]*)$/,function(a,b){c=b;return""});a=a.replace(/(^\/|\/$)/g,"");return new w(e+a+b,c)};q.getTop=function(a,e){var b=a.offsetTop;if(!e)for(;a=a.offsetParent;)b+=a.offsetTop;return b};
q.getHeight=function(a){return a.offsetHeight||a.scrollHeight};q.getWidth=function(a){return a.offsetWidth||a.scrollWidth};q.getPageSize=function(){var a,e,b,c;self.innerHeight&&self.scrollMaxY?(a=h.body.scrollWidth,e=self.innerHeight+self.scrollMaxY):h.body.scrollHeight>h.body.offsetHeight?(a=h.body.scrollWidth,e=h.body.scrollHeight):(a=h.body.offsetWidth,e=h.body.offsetHeight);self.innerHeight?(b=self.innerWidth,c=self.innerHeight):h.documentElement&&h.documentElement.clientHeight?(b=h.documentElement.clientWidth,
c=h.documentElement.clientHeight):h.body&&(b=h.body.clientWidth,c=h.body.clientHeight);a=Math.max(a,b);e=Math.max(e,c);return[a,e,b,c]};G.prompt=function(a,e,b,c){var d,k;void 0===b&&(b="");var m=function(a){27===(a.charCode||a.keyCode)&&f(!0)},f=function(a){l.removeEvent(h.body,"keydown",m);var b=k.value;a?b=null:(b=b.replace(/^http:\/\/(https?|ftp):\/\//,"$1://"),/^(?:https?|ftp):\/\//.test(b)||(b="http://"+b));$(d).modal("hide");c(b);return!1},q=function(){d=h.createElement("div");d.className=
"modal hide fade";d.style.display="none";var c=h.createElement("div");c.className="modal-header";c.innerHTML='<a class="close" data-dismiss="modal">\u00d7</a> <h3>'+a+"</h3>";d.appendChild(c);var n=h.createElement("div");n.className="modal-body";d.appendChild(n);c=h.createElement("div");c.className="modal-footer";d.appendChild(c);var g=h.createElement("p");g.innerHTML=e;g.style.padding="5px";n.appendChild(g);var g=h.createElement("form"),q=g.style;g.onsubmit=function(){return f(!1)};q.padding="0";
q.margin="0";n.appendChild(g);k=h.createElement("input");k.type="text";k.value=b;q=k.style;q.display="block";q.width="80%";q.marginLeft=q.marginRight="auto";g.appendChild(k);n=h.createElement("button");n.className="btn btn-primary";n.type="button";n.onclick=function(){return f(!1)};n.innerHTML="OK";g=h.createElement("button");g.className="btn btn-primary";g.type="button";g.onclick=function(){return f(!0)};g.innerHTML="Cancel";c.appendChild(n);c.appendChild(g);l.addEvent(h.body,"keydown",m);h.body.appendChild(d)};
setTimeout(function(){q();var a=b.length;if(void 0!==k.selectionStart)k.selectionStart=0,k.selectionEnd=a;else if(k.createTextRange){var c=k.createTextRange();c.collapse(!1);c.moveStart("character",-a);c.moveEnd("character",a);c.select()}$(d).on("shown",function(){k.focus()});$(d).on("hidden",function(){d.parentNode.removeChild(d)});$(d).modal()},0)};var s=C.prototype;s.prefixes="(?:\\s{4,}|\\s*>|\\s*-\\s+|\\s*\\d+\\.|=|\\+|-|_|\\*|#|\\s*\\[[^\n]]+\\]:)";s.unwrap=function(a){var e=new w("([^\\n])\\n(?!(\\n|"+
this.prefixes+"))","g");a.selection=a.selection.replace(e,"$1 $2")};s.wrap=function(a,e){this.unwrap(a);var b=new w("(.{1,"+e+"})( +|$\\n?)","gm"),c=this;a.selection=a.selection.replace(b,function(a,b){return(new w("^"+c.prefixes,"")).test(a)?a:b+"\n"});a.selection=a.selection.replace(/\s+$/,"")};s.doBold=function(a,e){return this.doBorI(a,e,2,"strong text")};s.doItalic=function(a,e){return this.doBorI(a,e,1,"emphasized text")};s.doBorI=function(a,e,b,c){a.trimWhitespace();a.selection=a.selection.replace(/\n{2,}/g,
"\n");var d=/(\**$)/.exec(a.before)[0];e=/(^\**)/.exec(a.after)[0];d=Math.min(d.length,e.length);d>=b&&(2!=d||1!=b)?(a.before=a.before.replace(w("[*]{"+b+"}$",""),""),a.after=a.after.replace(w("^[*]{"+b+"}",""),"")):!a.selection&&e?(a.after=a.after.replace(/^([*_]*)/,""),a.before=a.before.replace(/(\s?)$/,""),a.before=a.before+e+w.$1):(a.selection||e||(a.selection=c),b=1>=b?"*":"**",a.before+=b,a.after=b+a.after)};s.stripLinkDefs=function(a,e){return a=a.replace(/^[ ]{0,3}\[(\d+)\]:[ \t]*\n?[ \t]*<?(\S+?)>?[ \t]*\n?[ \t]*(?:(\n*)["(](.+?)[")][ \t]*)?(?:\n+|$)/gm,
function(a,c,d,k,m){e[c]=a.replace(/\s*$/,"");return k?(e[c]=a.replace(/["(](.+?)[")]$/,""),k+m):""})};s.addLinkDef=function(a,e){var b=0,c={};a.before=this.stripLinkDefs(a.before,c);a.selection=this.stripLinkDefs(a.selection,c);a.after=this.stripLinkDefs(a.after,c);var d="",k=/(\[)((?:\[[^\]]*\]|[^\[\]])*)(\][ ]?(?:\n[ ]*)?\[)(\d+)(\])/g,m=function(a){b++;a=a.replace(/^[ ]{0,3}\[(\d+)\]:/,"  ["+b+"]:");d+="\n"+a},f=function(a,d,e,h,l,q){e=e.replace(k,f);return c[l]?(m(c[l]),d+e+h+b+q):a};a.before=
a.before.replace(k,f);e?m(e):a.selection=a.selection.replace(k,f);var h=b;a.after=a.after.replace(k,f);a.after&&(a.after=a.after.replace(/\n*$/,""));a.after||(a.selection=a.selection.replace(/\n*$/,""));a.after+="\n\n"+d;return h};s.doLinkOrImage=function(a,e,b){a.trimWhitespace();a.findTags(/\s*!?\[/,/\][ ]?(?:\n[ ]*)?(\[.*?\])?/);if(1<a.endTag.length&&0<a.startTag.length)a.startTag=a.startTag.replace(/!?\[/,""),a.endTag="",this.addLinkDef(a,null);else if(a.selection=a.startTag+a.selection+a.endTag,
a.startTag=a.endTag="",/\n\n/.test(a.selection))this.addLinkDef(a,null);else{var c=this,d=function(d){null!==d&&(a.selection=(" "+a.selection).replace(/([^\\](?:\\\\)*)(?=[[\]])/g,"$1\\").substr(1),d=" [999]: "+L(d),d=c.addLinkDef(a,d),a.startTag=b?"![":"[",a.endTag="]["+d+"]",a.selection||(a.selection=b?"enter image description here":"enter link description here"));e()};b?this.hooks.insertImageDialog(d)||G.prompt("Insert Image",'<p>http://example.com/images/diagram.jpg "optional title"</p>',"http://",
d):G.prompt("Insert Link",'<p>http://example.com/ "optional title"</p>',"http://",d);return!0}};s.doAutoindent=function(a,e){var b=!1;a.before=a.before.replace(/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]*\n$/,"\n\n");a.before=a.before.replace(/(\n|^)[ ]{0,3}>[ \t]*\n$/,"\n\n");a.before=a.before.replace(/(\n|^)[ \t]+\n$/,"\n\n");a.selection||/^[ \t]*(?:\n|$)/.test(a.after)||(a.after=a.after.replace(/^[^\n]*/,function(b){a.selection=b;return""}),b=!0);/(\n|^)[ ]{0,3}([*+-]|\d+[.])[ \t]+.*\n$/.test(a.before)&&
this.doList&&this.doList(a);/(\n|^)[ ]{0,3}>[ \t]+.*\n$/.test(a.before)&&this.doBlockquote&&this.doBlockquote(a);/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&this.doCode&&this.doCode(a);b&&(a.after=a.selection+a.after,a.selection="")};s.doBlockquote=function(a,e){a.selection=a.selection.replace(/^(\n*)([^\r]+?)(\n*)$/,function(b,c,d,e){a.before+=c;a.after=e+a.after;return d});a.before=a.before.replace(/(>[ \t]*)$/,function(b,c){a.selection=c+a.selection;return""});a.selection=a.selection.replace(/^(\s|>)+$/,
"");a.selection=a.selection||"Blockquote";var b="",c="",d;if(a.before){for(var k=a.before.replace(/\n$/,"").split("\n"),f=!1,h=0;h<k.length;h++){var l=!1;d=k[h];f=f&&0<d.length;/^>/.test(d)?(l=!0,!f&&1<d.length&&(f=!0)):l=/^[ \t]*$/.test(d)?!0:f;l?b+=d+"\n":(c+=b+d,b="\n")}/(^|\n)>/.test(b)||(c+=b,b="")}a.startTag=b;a.before=c;a.after&&(a.after=a.after.replace(/^\n?/,"\n"));a.after=a.after.replace(/^(((\n|^)(\n[ \t]*)*>(.+\n)*.*)+(\n[ \t]*)*)/,function(b){a.endTag=b;return""});b=function(b){var c=
b?"> ":"";a.startTag&&(a.startTag=a.startTag.replace(/\n((>|\s)*)\n$/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}));a.endTag&&(a.endTag=a.endTag.replace(/^\n((>|\s)*)\n/,function(a,b){return"\n"+b.replace(/^[ ]{0,3}>?[ \t]*$/gm,c)+"\n"}))};/^(?![ ]{0,3}>)/m.test(a.selection)?(this.wrap(a,70),a.selection=a.selection.replace(/^/gm,"> "),b(!0),a.skipLines()):(a.selection=a.selection.replace(/^[ ]{0,3}> ?/gm,""),this.unwrap(a),b(!1),!/^(\n|^)[ ]{0,3}>/.test(a.selection)&&a.startTag&&
(a.startTag=a.startTag.replace(/\n{0,2}$/,"\n\n")),!/(\n|^)[ ]{0,3}>.*$/.test(a.selection)&&a.endTag&&(a.endTag=a.endTag.replace(/^\n{0,2}/,"\n\n")));a.selection=this.hooks.postBlockquoteCreation(a.selection);/\n/.test(a.selection)||(a.selection=a.selection.replace(/^(> *)/,function(b,c){a.startTag+=c;return""}))};s.doCode=function(a,e){var b=/\S[ ]*$/.test(a.before);if(!/^[ ]*\S/.test(a.after)&&!b||/\n/.test(a.selection)){a.before=a.before.replace(/[ ]{4}$/,function(b){a.selection=b+a.selection;
return""});var c=b=1;/(\n|^)(\t|[ ]{4,}).*\n$/.test(a.before)&&(b=0);/^\n(\t|[ ]{4,})/.test(a.after)&&(c=0);a.skipLines(b,c);a.selection?/^[ ]{0,3}\S/m.test(a.selection)?/\n/.test(a.selection)?a.selection=a.selection.replace(/^/gm,"    "):a.before+="    ":a.selection=a.selection.replace(/^[ ]{4}/gm,""):(a.startTag="    ",a.selection="enter code here")}else a.trimWhitespace(),a.findTags(/`/,/`/),a.startTag||a.endTag?a.endTag&&!a.startTag?(a.before+=a.endTag,a.endTag=""):a.startTag=a.endTag="":(a.startTag=
a.endTag="`",a.selection||(a.selection="enter code here"))};s.doList=function(a,e,b){e=/^\n*(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*/;var c="-",d=1,f=function(){var a;b?(a=" "+d+". ",d++):a=" "+c+" ";return a},h=function(a){void 0===b&&(b=/^\s*\d/.test(a));return a=a.replace(/^[ ]{0,3}([*+-]|\d+[.])\s/gm,function(a){return f()})};a.findTags(/(\n|^)*[ ]{0,3}([*+-]|\d+[.])\s+/,null);!a.before||/\n$/.test(a.before)||/^\n/.test(a.startTag)||(a.before+=
a.startTag,a.startTag="");if(a.startTag){var l=/\d+[.]/.test(a.startTag);a.startTag="";a.selection=a.selection.replace(/\n[ ]{4}/g,"\n");this.unwrap(a);a.skipLines();l&&(a.after=a.after.replace(e,h));if(b==l)return}var q=1;a.before=a.before.replace(/(\n|^)(([ ]{0,3}([*+-]|\d+[.])[ \t]+.*)(\n.+|\n{2,}([*+-].*|\d+[.])[ \t]+.*|\n{2,}[ \t]+\S.*)*)\n*$/,function(a){/^\s*([*+-])/.test(a)&&(c=w.$1);q=/[^\n]\n\n[^\n]/.test(a)?1:0;return h(a)});a.selection||(a.selection="List item");var l=f(),p=1;a.after=
a.after.replace(e,function(a){p=/[^\n]\n\n[^\n]/.test(a)?1:0;return h(a)});a.trimWhitespace(!0);a.skipLines(q,p,!0);a.startTag=l;e=l.replace(/./g," ");this.wrap(a,72-e.length);a.selection=a.selection.replace(/\n/g,"\n"+e)};s.doHeading=function(a,e){a.selection=a.selection.replace(/\s+/g," ");a.selection=a.selection.replace(/(^\s+|\s+$)/g,"");if(a.selection){var b=0;a.findTags(/#+[ ]*/,/[ ]*#+/);/#+/.test(a.startTag)&&(b=w.lastMatch.length);a.startTag=a.endTag="";a.findTags(null,/\s?(-+|=+)/);/=+/.test(a.endTag)&&
(b=1);/-+/.test(a.endTag)&&(b=2);a.startTag=a.endTag="";a.skipLines(1,1);b=0==b?2:b-1;if(0<b){var b=2<=b?"-":"=",c=a.selection.length;72<c&&(c=72);for(a.endTag="\n";c--;)a.endTag+=b}}else a.startTag="## ",a.selection="Heading",a.endTag=" ##"};s.doHorizontalRule=function(a,e){a.startTag="----------\n";a.selection="";a.skipLines(2,1,!0)}})();(function(){function r(f){return f.replace(/<[^>]*>?/gi,B)}function B(f){return f.match(y)||f.match(C)||f.match(L)||f.match(l)?f:""}function u(f){if(""==f)return"";var l=/<\/?\w+[^>]*(\s|$|>)/g,h=f.toLowerCase().match(l),p=(h||[]).length;if(0==p)return f;for(var r,v,u,s=[],a=[],e=!1,b=0;b<p;b++)if(r=h[b].replace(/<\/?(\w+).*/,"$1"),!(s[b]||-1<"<p><img><br><li><hr>".search("<"+r+">"))){v=h[b];u=-1;if(!/^<\//.test(v))for(v=b+1;v<p;v++)if(!s[v]&&h[v]=="</"+r+">"){u=v;break}-1==u?e=a[b]=!0:s[u]=!0}if(!e)return f;
b=0;return f=f.replace(l,function(c){c=a[b]?"":c;b++;return c})}var p,f;"object"===typeof exports&&"function"===typeof require?(p=exports,f=require("./Markdown.Converter").Converter):(p=window.Markdown,f=p.Converter);p.getSanitizingConverter=function(){var l=new f;l.hooks.chain("postConversion",r);l.hooks.chain("postConversion",u);return l};var y=/^(<\/?(b|blockquote|code|del|dd|dl|dt|em|h1|h2|h3|i|kbd|li|ol|p|s|sup|sub|strong|strike|ul)>|<(br|hr)\s?\/?>)$/i,C=/^(<a\shref="(https?:(\/\/|\/)|ftp:(\/\/|\/)|mailto:|magnet:)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\stitle="[^"<>]+")?\s?>|<\/a>)$/i,
L=/^(<img\ssrc="(https?:\/\/|\/)[-A-Za-z0-9+&@#\/%?=~_|!:,.;\(\)]+"(\swidth="\d{1,3}")?(\sheight="\d{1,3}")?(\salt="[^"<>]*")?(\stitle="[^"<>]*")?\s?\/?>)$/i,l=/^(<pre(\sclass="prettyprint linenums")?>|<\/pre>)$/i})();(function(r){r.fn.pagedownBootstrap=function(B){var u=r.extend({sanatize:!0,help:null,hooks:[]},B);return this.each(function(){var p=null,p=u.sanatize?Markdown.getSanitizingConverter():new Markdown.Converter,f;for(f in u.hooks){var y=u.hooks[f];"object"===typeof y&&"underfined"!==typeof y.event&&"function"===typeof y.callback&&p.hooks.chain(y.event,y.callback)}for(f=0;0<r("#wmd-input-"+f.toString()).length;)f++;r(this).attr("id","wmd-input-"+f.toString());r(this).wrap('<div class="wmd-panel" />');
r(this).before('<div id="wmd-button-bar-'+f+'" class="wmd-button-bar" />');r(this).after('<div id="wmd-preview-'+f+'" class="wmd-preview" />');r(this).addClass("wmd-input");help=null;r.isFunction(u.help)&&(help={handler:u.help});(new Markdown.Editor(p,"-"+f.toString(),help)).run()})}})(jQuery);
